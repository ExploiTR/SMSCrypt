package app.exploitr.sec.scrypt.database;

import android.content.Context;
import android.content.SharedPreferences;

import androidx.preference.PreferenceManager;

public class ConfigPreferences {
    private static SharedPreferences preferenceManager;
    private static ConfigPreferences configPreferences;

    private final String CONST_NUM_OF_CONTACTS = "numOfContacts";
    private final String CONST_CONTACT_LAST_UPDATE_TIME = "contactLastUpdateTime";

    private ConfigPreferences() {
    }

    public static ConfigPreferences getInstance(Context context) {
        if (configPreferences == null || preferenceManager == null) {
            preferenceManager = PreferenceManager.getDefaultSharedPreferences(context);
            return configPreferences = new ConfigPreferences();
        }
        return configPreferences;
    }

    public void setNumOfContacts(long numOfContacts) {
        preferenceManager.edit().putLong(CONST_NUM_OF_CONTACTS, numOfContacts).apply();
    }

    public void setContactLastUpdateTime(long lastUpdateTime) {
        preferenceManager.edit().putLong(CONST_CONTACT_LAST_UPDATE_TIME, lastUpdateTime).apply();
    }

    public long getNumOfContacts() {
        return preferenceManager.getLong(CONST_NUM_OF_CONTACTS, -1);
    }

    public long getContactLastUpdateTime() {
        return preferenceManager.getLong(CONST_CONTACT_LAST_UPDATE_TIME, 0);
    }

    public void clearAll() {
        preferenceManager.edit().clear().apply();
    }
}

